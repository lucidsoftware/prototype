angular.module("particleApp",["lucidComponents","ngDraggable","ngSortable","dndLists"]).controller("mainCtrl",function(e,t,n){e.savetext="saved",n.saveDocument=function(){e.savetext="saving...",t(function(){e.savetext="saved"},1e3)},n.selectedBlock={text:{size:12}},e.canvasmode=0,e.canvasMode=function(){return 0===e.canvasmode?(e.hideLeftPanel=!0,e.hideRightPanel=!0,e.hideFooter=!0,e.canvasmode=1,void console.log("Mode 1")):1===e.canvasmode?(e.hideToolbar=!0,e.hideHeader=!0,e.canvasmode=2,void console.log("Mode 2")):2===e.canvasmode?(e.hideLeftPanel=!1,e.hideRightPanel=!1,e.hideFooter=!1,e.hideToolbar=!1,e.hideHeader=!1,e.canvasmode=0,void console.log("Standard Canvas")):void 0},e.enterOptionBar=function(){e.hideHeader?timer=t(function(){e.hideHeader=!1,e.hideToolbar=!1,console.log("enter optionbar")},400):(e.hideHeader=!0,e.hideToolbar=!0)},e.enterRightPanel=function(){e.hideRightPanel?timer=t(function(){e.hideRightPanel=!1,console.log("enter right panel")},400):e.hideRightPanel=!0},e.enterLeftPanel=function(){e.hideLeftPanel?timer=t(function(){e.hideLeftPanel=!1,console.log("enter left panel")},400):e.hideLeftPanel=!0},e.cancelHover=function(){t.cancel(timer)}}).controller("ShareCtrl",function(e,t,n){e.dummyData={name:"",role:"Editor"},e.focusCollaborator=function(){var e="add-collaborator-input";n(function(){document.getElementById(e).getElementsByTagName("input")[0].focus()},10)},e.addPerson=function(n){t.saveDocument();var a={name:n.name,role:n.role,svg:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-share-person-white.svg"};return"matt"===n.name&&(a.name="Matt Snyder",a.image="https://avatars.slack-edge.com/2014-12-02/3129295960_063bde45974958efcc01_192.jpg",a.svg=null),"cory"===n.name&&(a.name="Cory McArthur",a.image="https://avatars.slack-edge.com/2015-06-10/6217971094_fded55591147999b3f1f_192.jpg",a.svg=null),"matthew"===n.name&&(a.name="Matthew O'Rourke",a.image="https://avatars.slack-edge.com/2015-01-07/3355887951_3bc33899538ea9866829_192.jpg",a.svg=null),"taylor"===n.name&&(a.name="Taylor Palmer",a.image="https://avatars.slack-edge.com/2015-11-12/14463452164_03d711e152d13a4957e8_192.jpg",a.svg=null),"rob"===n.name&&(a.name="Rob Witt",a.image="https://avatars.slack-edge.com/2014-11-24/3076026439_03deaeac3a91313f3903_192.jpg",a.svg=null),"Marketing"!==n.name&&"Team"!==n.name&&"group"!==n.name||(a.svg="https://lucidsoftware.github.io/particle/components/1.2/icon/icons/icon-team-22px.svg"),e.collaborators.push(a),e.dummyData={name:"",role:"Editor"},void(e.showing=!1);e.collaborators.push(n),e.dummyData={name:"",role:"Editor"},e.showing=!1},e.collaborators=[{name:"Ryan Contreras",role:"Editor",image:"https://s3.amazonaws.com/uifaces/faces/twitter/zack415/128.jpg"},{name:"Dave Smith",role:"Commenter",image:"https://s3.amazonaws.com/uifaces/faces/twitter/marcosmoralez/128.jpg"}]}).controller("RightDockCtrl",function(e,t){e.openTab="",e.showTooltipPresent=!0,e.showTooltipHistory=!0,t.setTab=function(n){n===e.openTab?e.openTab="":e.openTab=n,"comments"===e.openTab?(t.showComments=!0,t.showSlides=!1):"present"===e.openTab?(t.showSlides=!0,t.showComments=!1):(t.showComments=!1,t.showSlides=!1),""===e.openTab?e.rightDock=!1:e.rightDock=!0}}).controller("PagesCtrl",function(e,t,n,a){n.pages=a,n.currentPage=a[0],n.currentPageNumber=1,e.editName=function(e){t(function(){e.edit=!0},100)},e.changePage=function(e){var a={name:e.name,blocks:[]};n.currentPage=a,t(function(){n.currentPage=e,n.currentPageNumber=n.pages.indexOf(e)+1,n.saveDocument()},10)},e.addPage=function(){var a=n.pages.length,o=(new Date).getTime(),i={name:"New Page "+(+a+1),id:o,blocks:[""]};n.pages.splice(a,0,i),t(function(){e.changePage(i)},10)},e.duplicatePage=function(a,o){var i=JSON.parse(JSON.stringify(a)),s=+o+1,r=(new Date).getTime();i.id=r,i.name=a.name+" Copy",n.pages.splice(s,0,i),t(function(){e.changePage(i)},10)},n.masterPageCount=function(){var e=[];return angular.forEach(n.pages,function(t){t.master&&e.push(t)}),e},e.deletePage=function(a,o){n.pages.splice(o,1),t(function(){n.pages[o]?e.changePage(n.pages[o]):e.changePage(n.pages[o-1])},10),n.saveDocument()},e.nextPage=function(){var t=n.pages.indexOf(n.currentPage);e.changePage(n.pages[t+1])},e.previousPage=function(){var t=n.pages.indexOf(n.currentPage);e.changePage(n.pages[t-1])},e.applyMaster=function(e){e.masterapplied=!0,console.log("page",e),t(function(){e.masterapplied=!1},2e3),n.saveDocument()},e.applyMasterAll=function(){console.log("master applied to all"),angular.forEach(n.pages,function(t){t.master||e.applyMaster(t)})},n.saveDocument()}).controller("linePathCtrl",function(e,t){t(function(){e.lucidPath=new SVGMorpheus("#lucid-path-style")},1400),e.changePath=function(t){"straight"===t&&e.lucidPath.to("lucid-straight-path",{duration:400,easing:"quad-out",rotation:"none"}),"curved"===t&&e.lucidPath.to("lucid-curve-path",{duration:400,easing:"quad-out",rotation:"none"}),"angle"===t&&e.lucidPath.to("lucid-angle-path",{duration:400,easing:"quad-out",rotation:"none"}),e.showpopover=!1},e.pathstyles=[{name:"curved",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-line-curved-bluesteel.svg"},{name:"angle",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-line-angle-bluesteel.svg"},{name:"straight",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-line-straight-bluesteel.svg"}],e.pathstyle=e.pathstyles[0]}).controller("textAlignmentCtrl",function(e,t){t(function(){e.lucidPath=new SVGMorpheus("#lucid-text-align")},1400),e.selected||(e.selected={},e.selected.text={verticalalignment:"middle",horizontalalignment:"center"}),e.changeAlignment=function(t,n){e.selected.text.verticalalignment=t,e.selected.text.horizontalalignment=n,"top"===t&&"left"===n&&e.lucidPath.to("lucid-text-top-left",{duration:400,easing:"quad-out",rotation:"none"}),"top"===t&&"center"===n&&e.lucidPath.to("lucid-text-top-center",{duration:400,easing:"quad-out",rotation:"none"}),"top"===t&&"right"===n&&e.lucidPath.to("lucid-text-top-right",{duration:400,easing:"quad-out",rotation:"none"}),"middle"===t&&"left"===n&&e.lucidPath.to("lucid-text-middle-left",{duration:400,easing:"quad-out",rotation:"none"}),"middle"===t&&"center"===n&&e.lucidPath.to("lucid-text-middle-center",{duration:400,easing:"quad-out",rotation:"none"}),"middle"===t&&"right"===n&&e.lucidPath.to("lucid-text-middle-right",{duration:400,easing:"quad-out",rotation:"none"}),"bottom"===t&&"left"===n&&e.lucidPath.to("lucid-text-bottom-left",{duration:400,easing:"quad-out",rotation:"none"}),"bottom"===t&&"center"===n&&e.lucidPath.to("lucid-text-bottom-center",{duration:400,easing:"quad-out",rotation:"none"}),"bottom"===t&&"right"===n&&e.lucidPath.to("lucid-text-bottom-right",{duration:400,easing:"quad-out",rotation:"none"}),e.showpopup=!1},e.alignment=[{verticalalignment:"top",horizontalalignment:"left",name:"top-left",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-alignment_top-left-bluesteel.svg"},{verticalalignment:"top",horizontalalignment:"center",name:"top-center",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-alignment_top-center-bluesteel.svg"},{verticalalignment:"top",horizontalalignment:"right",name:"top-right",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-alignment_top-right-bluesteel.svg"},{verticalalignment:"middle",horizontalalignment:"left",name:"center-left",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-alignment_center-left-bluesteel.svg"},{verticalalignment:"middle",horizontalalignment:"center",name:"center-center",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-alignment_center-center-bluesteel.svg"},{verticalalignment:"middle",horizontalalignment:"right",name:"center-right",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-alignment_center-right-bluesteel.svg"},{verticalalignment:"bottom",horizontalalignment:"left",name:"bottom-left",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-alignment_bottom-left-bluesteel.svg"},{verticalalignment:"bottom",horizontalalignment:"center",name:"bottom-center",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-alignment_bottom-center-bluesteel.svg"},{verticalalignment:"bottom",horizontalalignment:"right",name:"bottom-right",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-alignment_bottom-right-bluesteel.svg"}]}).controller("shapesManagerCtrl",function(e,t,n,a,o,i){e.$on("draggable:start",function(e,n){t.draggingshape=!0}),e.$on("draggable:move",function(e,n){var a=window.event.clientX;250>a?t.mouseInLeftPanel=!0:t.mouseInLeftPanel=!1,t.selectedBlock=n.data,t.$apply()}),e.$on("draggable:end",function(e,n){t.draggingshape=!1,t.mouseInLeftPanel=!1,t.saveDocument()}),e.focusSearch=function(e){if(console.log(e),e){var t="search-shapes-input";o(function(){document.getElementById(t).focus()},10)}},e.lucidGroups=[{groupname:"Default",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"Flowchart Shapes",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"Geometric Shapes",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-shapes.png"},{groupname:"Android Mockups",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-android.png"},{groupname:"Entity Relationship",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"Site Maps",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"UI Mockups",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-computer.png"},{groupname:"UML",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"iOS 7 Mockups",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"BPMN 2.0",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"Data Flow",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"Org Charts",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"Tables",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"Value Stream",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"AWS Architecture",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"Azure",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"Cisco Network Icons",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"Network Infrastructure",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"Server Rack Diagrams",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"Tech Clipart",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"Circuit Diagrams",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"Enterprise Integration",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-flowchart.png"},{groupname:"Equations",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-computer.png"},{groupname:"Floor Plans",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-computer.png"},{groupname:"Mind Mapping",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-computer.png"},{groupname:"Process Engineering",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-computer.png"},{groupname:"Venn Diagrams",image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/shapegroup-placeholder-computer.png"}],e.setGroup=function(t,n){console.log("old index",n,"new index",t),e.DrawerOpenSameRow=!1,t===e.showGroupIndex?e.showGroupIndex=null:null==e.showGroupIndex?e.showGroupIndex=t:((4>t&&4>n||t>3&&n>3&&8>t&&8>n)&&(console.log("same row"),e.DrawerOpenSameRow=!0,o(function(){e.DrawerOpenSameRow=!1},100)),e.showGroupIndex=t)},e.toggleGroupPin=function(t){e.lucidGroupPinned(t)?angular.forEach(e.lucidShapeGroups,function(n){t.groupname==n.lucidgroup&&n.pinned&&e.unPinGroup(n)}):(angular.forEach(e.lucidShapeGroups,function(n){t.groupname!=n.lucidgroup||n.pinned||e.pinGroup(n)}),o(function(){e.showPinMessage(t)},1e3))},e.lucidGroupPinned=function(t){var n=0,a=0;return angular.forEach(e.lucidShapeGroups,function(e){t.groupname==e.lucidgroup&&(a+=1,e.pinned&&(n+=1))}),n==a&&0!=a},e.pinnedShapeGroups=i.pinnedShapeGroups(),e.lucidShapeGroups=i.lucidShapeGroups(),e.customShapeGroups=i.customShapeGroups(),e.pinned=function(e){return!!i.pinned(e)},e.showPinMessage=function(t){var n=document.getElementById("left-panel-shapes").offsetHeight-document.getElementById("left-panel-shapes-scroll").offsetHeight;125>n&&(e.overflowMessage=!0,e.overflowMessageTitle=t.groupname,o(function(){e.overflowMessage=!1},2e3))},e.pinGroup=function(n){t.saveDocument(),e.pinnedShapeGroups.push(n),e.showPinMessage(n),n.pinned=!0},angular.forEach(e.customShapeGroups,function(t){t.pinned&&e.pinGroup(t)}),angular.forEach(e.lucidShapeGroups,function(t){t.pinned&&e.pinGroup(t)}),e.unPinGroup=function(n){t.saveDocument();var a=e.getObject(n.id,e.pinnedShapeGroups),o=e.pinnedShapeGroups.indexOf(a);e.pinnedShapeGroups.splice(o,1),n.pinned=!1;var i=e.getObject(n.id,e.lucidShapeGroups);if(!i)var i=e.getObject(n.id,e.customShapeGroups);i.pinned=!1},e.getObject=function(e,t){return n("filter")(t,{id:e},!0)[0]},e.togglePin=function(t){t.pinned?e.unPinGroup(t):e.pinGroup(t)},e.pinnedGroupsSort={group:{name:"pinned",put:["custom","lucid"],pull:!1},model:"shapegroup",handle:".shape-group-top",animation:150,onAdd:function(n){var a=e.getObject(n.model.id,e.lucidShapeGroups);a||(a=e.getObject(n.model.id,e.customShapeGroups)),a.pinned=!0,t.draggingShapeGroup=!1,t.saveDocument()},onStart:function(e){t.draggingShapeGroup=!0},onEnd:function(e){t.draggingShapeGroup=!1,t.saveDocument()}},e.customGroupsSort={group:{name:"custom",pull:"clone"},ghostClass:"ng-sort-ghost",model:"shapegroup",filter:".shapegroup-pinned",handle:".shape-group-top",animation:150,onStart:function(e){t.draggingShapeGroup=!0},onEnd:function(e){t.draggingShapeGroup=!1}},e.lucidGroupsSort={sort:!1,group:{name:"lucid",pull:"clone"},ghostClass:"ng-sort-ghost",model:"shapegroup",filter:".shapegroup-pinned",handle:".shape-group-top",animation:150,onStart:function(e){t.draggingShapeGroup=!0},onEnd:function(e){t.draggingShapeGroup=!1}},t.manageshapes=!1,e.lucidShapesLimit=14,t.toggleShapesManager=function(){e.searchshapes||e.importToCanvas?(e.searchshapes=!1,e.importToCanvas=!1):t.manageshapes?(t.manageshapes=!1,o(function(){e.lucidShapesLimit=10,e.loadingshapes=!1},1e3)):(t.manageshapes=!0,o(function(){e.lucidShapesLimit=50},1e3),o(function(){e.loadingshapes=!0},600))},e.copy=function(e){return"custom"===e?"copyMove":"copy"},e.dropFromCanvas=function(e,t,n){if(e&&n.custom){var a=n.shapes.indexOf(e);if(-1===a){var o=JSON.parse(JSON.stringify(e));o.shapepanel=!0,o.customcolor=!0,o.comment=null,o.url||(o.svg='<svg width="30px" height="30px" viewBox="0 0 30 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g transform="translate(1, 2)" stroke="'+e.swatch.border+'" fill="'+e.swatch.fill+'"><rect stroke-width="2" x="0" y="0" width="28" height="26" rx="2"></rect><text font-family="Baskerville" font-size="18" font-weight="526" fill="'+e.swatch.text+'"><tspan x="7" y="19" stroke-width="0">T</tspan></text></g></svg>'),n.shapes.push(o)}}},e.dragoverCallback=function(e,t,n,a){return 10>t},e.dropCallback=function(e,t,n,a,o,i,s){if(a){if("itemType"===i&&!n.label)return!1;if("containerType"===i&&!angular.isArray(n))return!1}return n},e.newCustomGroup=function(){var n={id:(new Date).getTime(),groupname:"New Group",custom:"custom",edit:!0,shapes:[]};e.customShapeGroups.splice(0,0,n),t.saveDocument()},e.editName=function(e,n){o(function(){e.edit=!0},100),t.saveDocument()},e.duplicateShapeGroup=function(n){var a=JSON.parse(JSON.stringify(n));a.id=(new Date).getTime(),a.groupname=n.groupname+" Copy",e.customShapeGroups.splice(0,0,a),e.editName(a,0),t.saveDocument()},e.openWindow=function(e){window.open(e,"_blank","toolbar=yes, scrollbars=yes, resizable=yes, top=500, left=500, width=400, height=400")},e.searchgroups={},e.searchgroups.searched=!1,e.searchShapeGroups=function(t){e.searchShapeGroupsResults=n("filter")(e.lucidShapeGroups,t),e.filterShapes=t,e.searchgroups.searched=!0}}).controller("loadingTipsCtrl",function(e){e.loading=100,e.showTip=Math.ceil(3*Math.random()),e.newTip=function(){e.showTip=e.showTip+1,6===e.showTip&&(e.showTip=1)}}).controller("canvasCtrl",function(e,t){e.clickLine=function(){t.selectedType="line"},e.lucidSlides=[{x:368,y:100,height:120,width:160},{x:60,y:210,height:300,width:400},{x:480,y:300,height:300,width:400}],e.blocks=t.currentPage.blocks,t.selectedType="nothing",e.deselectBlock=function(){var e=JSON.parse(JSON.stringify(t.selectedBlock));e.table=!1,t.selectedBlock=e},e.dragoverCallback=function(t,n,a,o){return e.logListEvent("dragged over canvas",t,n,a,o),10>n},e.dropCallback=function(t,n,a,o,i,s){if(e.logListEvent("dropped at canvas",t,n,o,i),o){if("itemType"===s&&!a.label)return!1;if("containerType"===s&&!angular.isArray(a))return!1}return a},e.dropToCanvas=function(e,n){t.saveDocument();var a=t.currentPage.blocks.indexOf(e);if(-1===a&&e){e.metrics||(e={customcolor:!1,swatch:{fill:"#ffffff",text:"#333333",border:"#666666"},swatchnumber:1,borderwidth:3,borderstyle:"solid",text:{verticalalignment:"middle",horizontalalignment:"center",text:e.name,size:"12px"},padding:10,metrics:{z:2,width:120,height:45},shapepanel:!1});var o=angular.element(document.querySelector("#lucid-canvas"))[0].getBoundingClientRect().left,i=angular.element(document.querySelector("#lucid-canvas"))[0].getBoundingClientRect().top;e.metrics.x=n.pageX-o-e.metrics.width/2,e.metrics.y=n.pageY-i-e.metrics.height/2,t.currentPage.blocks.push(e),t.selectedBlock=e}},e.onDragSuccess=function(e,t){if(t.x>250){var n=angular.element(document.querySelector("#lucid-canvas"))[0].getBoundingClientRect().left,a=angular.element(document.querySelector("#lucid-canvas"))[0].getBoundingClientRect().top;if(e){if(angular.element(t.event.srcElement).hasClass("lucid-block-comment"))return;e.metrics.x=t.x-n-t.element.centerX,e.metrics.y=t.y-a-t.element.centerY,e.shapepanel=!1}}}}).directive("hideUntilLoaded",["$timeout",function(e){return{priority:-1e4,restrict:"A",link:function(t,n,a){console.log("Loaded"),e(function(){n.removeClass("hide-body"),t.$root.showtemplatemanager=!0,t.$root.loaded=!0},4500)}}}]).animation(".shape-manager-drawer",["$animateCss",function(e){function t(e){var t=e[0].getAttribute("data-slide-toggle");return t||(t=++o,e[0].setAttribute("data-slide-toggle",t)),t}function n(e){var t=i[e];return t||(t={},i[e]=t),t}function a(e,t,n,a,o){return function(){t.animating=!0,t.animator=n,t.doneFn=o,n.start()["finally"](function(){e&&t.doneFn===o&&(a[0].style.height=""),e||t.doneFn!==o||(a[0].style.height=""),t.animating=!1,t.animator=void 0,t.doneFn()})}}var o=0,i={};return{addClass:function(o,i,s){if("ng-hide"===i){var r=n(t(o)),c=r.animating&&r.height?r.height:o[0].offsetHeight,p=e(o,{from:{height:c+"px"},to:{height:"0px"}});if(p)return r.animating?(r.doneFn=a(!0,r,p,o,s),r.animator.end()):(r.height=c,a(!0,r,p,o,s)())}s()},removeClass:function(o,i,s){if("ng-hide"===i){var r=n(t(o)),c=r.animating&&r.height?r.height:o[0].offsetHeight,p=e(o,{from:{height:"0px",opacity:0},to:{height:c+"px",opacity:1}});if(p)return r.animating?(r.doneFn=a(!1,r,p,o,s),r.animator.end()):(r.height=c,a(!1,r,p,o,s)())}s()}}}]);